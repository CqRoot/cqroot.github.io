---
title: Vim 对特殊字符的操作
date: 2021-02-10 19:18:27
tags: vim
category: vim
---

# Vim 对特殊字符的操作

## 插入特殊字符

按下`Ctrl-V`再输入指定内容，可以用来插入一些特殊字符。

`Ctrl-V`后可输入以下内容：

- 任意按键。如在输入模式中按下`Ctrl-V`，再按下`<Esc>`后，并不会脱离插入模式。
- 若干个十进位数字（小于255）。这会输入这个数字代表的字符。如果数字不足三位，可以再前面添加0。
- x加一个16进制数字。
- o加一个8进制数字。

## 查找和替换特殊字符

在查找和替换的时候，可以使用`\%`后接以下内容来搜索特殊字符：

- `\%x`后接十六进制数字。
- `\%d`后接十进制数字。
- `\%o`后接八进制数字。
- `\%u`后接最大4位的16进制。
- `\%U`后接最大8位的16进制。

## 查看光标所在处字符对应值

输入`ga`即可查看光标所在处字符的10进制、16进制、8进制对应值。

## 设置不可见字符的显示

```vimscript
set list
```

上述命令即可显示不可见字符，但是缺点是很多字符看起来特别丑。如果你希望用自定义的样式显示不可见字符，可以使用以下命令：

```vimscript
set listchars=tab:>-,trail:-
```

上述命令是设置TAB显示为“>---”(“-”的个数不定)，行尾多余的空白字符显示成“-”。

除了tab和trail，还有很多可以设置的字符，如果：

| eol      | 行尾显示的字符                                               |
| -------- | ------------------------------------------------------------ |
| tab      | 显示制表的两或三个字符。其中第二个字符可多次填充。           |
| space    | 空格                                                         |
| trail    | 行尾的空格，如果忽略则同空格                                 |
| extends  | 如果 ’wrap’ 关闭，而行在屏幕右边界之后还要继续时，最后一列显示的字符。 |
| precedes | 物理行在可视范围第一列之前还有内容时，第一个可见列显示的字符。 |
| conceal  | 用于替代隐藏文本的字符                                       |
| npsp     | 不可间断空格的字符（字符0xA0）                               |